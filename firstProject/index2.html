<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
	<meta charset="utf-8">
	<title>THE WALK</title>
	<link rel="stylesheet" href="style.css">
	<script src="p5.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Cinzel&display=swap" rel="stylesheet">

  <script>
    let bg, playbtn, seek_bar;
    function BGMplay(){
      bg= new Audio();
      bg.src="audio/BGM.mp3";
      bg.loop=true;
      // bg.play();
      playbtn= document.getElementById("music-button");
      // bug: the asseventlistener doesn't work
      playbtn.addEventListener("click",playPause);
      function playPause(){
        if (bg.paused){
        bg.play();
          document.getElementById("music-control").innerHTML="music on";
        }else{
          bg.pause();
          document.getElementById("music-control").innerHTML="music off";
        }
      }
    }

    window.addEventListener("load",BGMplay);
  </script>
</head>

<body>
	<audio src="audio/BGM.mp3" id='music' loop></audio>
	<button type="button" name="button" id="music-button" >
		<p id="music-control">music off</p>
	</button>

  <div id="userinfo">
    <p id="username"> </p>
    <img id="userimage" src="" alt="">
  </div>
	<!-- log in page bigdiv -->
	<div id="bigdiv"> <b id="before">Before Walking...</b>
		<!-- <div id="formbox"> -->
		<!-- <form id="form" action="index.html" method="post"> -->
		<!-- 上传用户头像 -->
		<!-- <label for="photo"><b>Your photo</b></label> -->
		<!-- <input type="file" name="photo" id="inputphoto" onchange="uploadphoto()" accept="image/jpeg"> -->
		<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script> -->
		<!-- <div id="profile-container"> -->
		<!-- </div> -->
		<!-- <input id="imageUpload" type="file" name="profile_photo" placeholder="Photo" required="" capture> -->
		<!-- <div id="inputbuttonbox"> -->
		<a href="" id="inputbutton">
			<input type='file' accept='image/*' onchange='openFile(event)' id="input">
			<p id="inputbuttontext">Select photo</p>
		</a>
		<!-- <button type="button" name="button" id="inputbutton"><p>Select image</p></button> -->
		<!-- </div> -->
		<img id='output'>
		<script>
			var openFile = function(event) {
			             var input = event.target;

			             var reader = new FileReader();
			             reader.onload = function(){
			               var dataURL = reader.result;
			               var output = document.getElementById('output');
			               output.src = dataURL;
			             };
			             reader.readAsDataURL(input.files[0]);
			           };
		</script>
		<label for="name" id="Preferred"><b>Preferred Name</b>
		</label>
		<input type="text" placeholder="Your Name" name="name" id="nametext" required>
		<button type="button" name="button" id="submit" onclick="submit()">Ready</button>
	</div>



  <!-- selection page big div -->
	<div id="bigdiv2">
		<h1 id="headline">Choose A Place</h1>

    <!-- 进入视频界面 -->
		<div class="mainbox" id="mainvidbox">
			<!-- <a href="indexvid.html"> -->
			<img src="image/摄像机.png" alt="摄像机" id="camerai" onclick="video()">
			<!-- </a> -->
			<img src="image/光圈.png" alt="light" class="light">
		</div>

    <!-- 进入音频界面 -->
		<div class="mainbox" id="mainaudbox">
			<!-- <a href="indexaud.html"> -->
			<img src="image/耳机.png" alt="earphone" id="earphone" onclick="audio()">
			<!-- </a> -->
			<img src="image/光圈.png" alt="light" class="light">
		</div>

    <!-- 进入绘画界面 -->
		<div class="mainbox" id="mainimgbox">
			<!-- <a href="indexdraw.html"> -->
			<img src="image/画板.png" alt="drawing" id="drawing" onclick="drawWhat()">
			<!-- </a> -->
			<img src="image/光圈.png" alt="light" class="light">
		</div>
		<!-- user info -->
		<div id="login">
			<!-- 我需要把上面上传的文字放入 -->
			<!-- <p id="username"></p> -->
			<!-- <script>
              function(){
                decument.getElementById("username").innerHTML="Hello"+nnametext+"!"
              }
            </script> -->
			<!-- <img id="outputup"> -->
			<!-- 我需要把上面上传的图片和用户名放到这里面 -->
			<!-- <script>
              function(){
                document.getElementById("outputup").src=openFile;
              }
            </script> -->
		</div>
	</div>
	<!-- 视频选择 -->
	<div id="bigdiv3">
		<button type="button" name="button" onclick="videoback()" class="backbtn">Back</button>
		<h1 id="vidselect">Would you prefer to...</h1>
		<div id="walkbox" class="mainbox">
			<img src="image/光圈.png" alt="light" class="light">
			<img src="image/走路.png" alt="walk" id="walk" onclick="walkvideo()">
		</div>
		<div id="sitbox" class="mainbox">
			<img src="image/光圈.png" alt="light" class="light">
			<img src="image/长椅.png" alt="bench" id="bench" onclick="sitvideo()">
		</div>
	</div>
	<!-- 选择走路 -->
	<div id="bigdiv4">
		<button type="button" name="button" onclick="uniwalkback()" class="backbtn">BACK</button>
		<video src="video/HDuniwalk.mov" id="walkvid" loop controls></video>
		<div class="unichoose">
			<ul>
				<li onclick="w1()"><a href="#">SJTU</a>
				</li>
				<li onclick="w2()"><a href="#">PKU</a>
				</li>
				<li onclick="w3()"><a href="#">Capital Medical University</a>
				</li>
				<li onclick="w4()"><a href="#">Johns Hopkins</a>
				</li>
				<li onclick="w5()"><a href="#">BJTU</a>
				</li>
				<li onclick="w6()"><a href="#">BIT</a>
				</li>
				<li onclick="w7()"><a href="#">FUDAN</a>
				</li>
				<li onclick="w8()"><a href="#">XJTLU</a>
				</li>
				<li onclick="w9()"><a href="#">BJUT</a>
				</li>
				<li onclick="w10()"><a href="#">HUST</a>
				</li>
				<li onclick="w11()"><a href="#">BUAA</a>
				</li>
				<li onclick="w12()"><a href="#">BNU</a>
				</li>
				<li onclick="w13()"><a href="#">BJFU</a>
				</li>
				<li onclick="w14()"><a href="#">CAU</a>
				</li>
				<li onclick="w15()"><a href="#">RUC</a>
				</li>
				<li onclick="w16()"><a href="#">CUEB</a>
				</li>
				<li onclick="w17()"><a href="#">CUFE</a>
				</li>
				<li onclick="w18()"><a href="#">SCU</a>
				</li>
				<li onclick="w19()"><a href="#">SYSU</a>
				</li>
				<li onclick="w20()"><a href="#">UW</a>
				</li>
				<li onclick="w21()"><a href="#">MUC</a>
				</li>
				<li onclick="w22()"><a href="#">SCUT</a>
				</li>
				<li onclick="w23()"><a href="#">SWUPL</a>
				</li>
				<li onclick="w24()"><a href="#">Tsinghua</a>
				</li>
			</ul>
		</div>
	</div>
	<!-- sit video page -->
	<div id="bigdiv5">
		<button type="button" name="button" onclick="unisitback()" class="backbtn">BACK</button>
		<video src="video/uniAB.mov" id="sitvid" loop controls></video>
		<div class="unichoose">
			<ul>
				<li onclick="s1()"><a href="#">SJTU</a>
				</li>
				<li onclick="s2()"><a href="#">PKU</a>
				</li>
				<li onclick="s3()"><a href="#">Capital Medical University</a>
				</li>
				<li onclick="s4()"><a href="#">Johns Hopkins</a>
				</li>
				<li onclick="s5()"><a href="#">BJTU</a>
				</li>
				<li onclick="s6()"><a href="#">BIT</a>
				</li>
				<li onclick="s7()"><a href="#">FUDAN</a>
				</li>
				<li onclick="s8()"><a href="#">XJTLU</a>
				</li>
				<li onclick="s9()"><a href="#">BJUT</a>
				</li>
				<li onclick="s10()"><a href="#">HUST</a>
				</li>
				<li onclick="s11()"><a href="#">BUAA</a>
				</li>
				<li onclick="s12()"><a href="#">BNU</a>
				</li>
				<li onclick="s13()"><a href="#">BJFU</a>
				</li>
				<li onclick="s14()"><a href="#">CAU</a>
				</li>
				<li onclick="s15()"><a href="#">RUC</a>
				</li>
				<!-- <li onclick="s16()"><a href="#">CUEB</a></li> -->
				<li onclick="s17()"><a href="#">CUFE</a>
				</li>
				<li onclick="s18()"><a href="#">SCU</a>
				</li>
				<li onclick="s19()"><a href="#">SYSU</a>
				</li>
				<!-- <li onclick="s20()"><a href="#">UW</a></li> -->
				<li onclick="s21()"><a href="#">MUC</a>
				</li>
				<!-- <li onclick="s22()"><a href="#">SCUT</a></li> -->
				<li onclick="s23()"><a href="#">SWUPL</a>
				</li>
				<li onclick="s24()"><a href="#">Tsinghua</a>
				</li>
			</ul>
		</div>
	</div>
	<!-- audio bigdiv -->
	<div id="bigdiv6">
		<button type="button" name="button" onclick="audioback()" class="backbtn">BACK</button>
		<audio class="audio" id="asunny" src="audio/sunny.wav" loop></audio>
		<audio class="audio" id="arainy" src="audio/rainy.wav" loop></audio>
		<audio class="audio" id="awindy" src="audio/windy.wav" loop></audio>
		<audio class="audio" id="aforest" src="audio/forest1.wav" loop></audio>
		<audio class="audio" id="asnow" src="audio/snowwalk.wav" loop></audio>
		<audio class="audio" id="astreet" src="audio/pavement.wav" loop></audio>
		<audio class="audio" id="astone" src="audio/stones.wav" loop></audio>
		<audio class="audio" id="awood" src="audio/woodenbridge.wav" loop></audio>
		<audio class="audio" id="agrass" src="audio/longgrass.wav" loop></audio>

		<p id="audioQ1">what is the weather today?</p>
		<p class="choice" id="sun" onclick="audioselect1()">sunny</p>
		<p class="choice" id="rain" onclick="audioselect2()">rainy</p>
		<p class="choice" id="wind" onclick="audioselect3()">windy</p>
		<p id="audioQ2">where do you want to go now?</p>
		<p class="choice" id="forest" onclick="audioselect4()">forest</p>
		<p class="choice" id="snow" onclick="audioselect5()">snowland</p>
		<p class="choice" id="street" onclick="audioselect6()">street</p>
		<p class="choice" id="stone" onclick="audioselect7()">stones</p>
		<p class="choice" id="wood" onclick="audioselect8()">woodenbridge</p>
		<p class="choice" id="grass" onclick="audioselect9()">grassland</p>
		<button type="button" name="button" id="audioplaybtn" onclick="audioplay()">Let's go!</button>
		<button type="button" name="button" id="audiopause" onclick="audiopause()">pause</button>
	</div>

	<!-- drawpage -->
	<div id="bigdiv7">
    <button type="button" name="button" onclick="drawback()" class="backbtn" >BACK</button>
		<h1 id="headdraw">Select a scene and Have a walk</h1>

    <canvas id="canvas" width="750" height="500"></canvas>
		<img src="image/sea.jpg" alt="" id="sea" class="scene" onclick="sea()">
		<img src="image/dryland.jpg" alt="" id="dryland" class="scene" onclick="dryland()">
		<img src="image/grass.jpg" alt="" id="grassimg" class="scene" onclick="grass()">
		<img src="image/street.jpg" alt="" id="road" class="scene" onclick="street()">

    <a id="download" download="image.png"><button type="button" onClick="download()" id="downloadbtn">Download</button></a>
	</div>

<button type="button" name="button" id="outbtn" onclick="logout()">finish my walk here</button>


	<script src="script2.js" type="text/javascript"></script>
</body>

</html>
